<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
  <div class = "conainer mt-3">
    <table class="table table-dark">
          <th>Num. Id</th>
          <th>Product</th>
          <th>Model</th>
          <th>Price</th>

      <tbody id = "tbody1"></tbody>
    </table>
  </div>
  <script type="module">
//Firebase Database
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.9/firebase-app.js";
    import { getDatabase,set,get,child,ref,onValue,DataSnapshot } from "https://www.gstatic.com/firebasejs/9.6.9/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBWwyFQr7XO6LLXDd-D7KOwN7y_nLaEH3Y",
      authDomain: "mojcenik.firebaseapp.com",
      databaseURL: "https://mojcenik-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "mojcenik",
      storageBucket: "mojcenik.appspot.com",
      messagingSenderId: "63719063115",
      appId: "1:63719063115:web:45987837a7a2bab3ef57ce"
    };
//  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase();


var Num= 0;
var tbody = document.getElementById('tbody1');

function AddItemToTable(Model, Price, Product){

  let trow = document.createElement('tr')
  let td1 = document.createElement('td');
  let td2 = document.createElement('td');
  let td3 = document.createElement('td');
  let td4 = document.createElement('td');
  let td5 = document.createElement('td');

  td1.innerHTML = ++Num;
  td2.innerHTML = Product;
  td3.innerHTML = Model;
  td4.innerHTML = Price;

  trow.appendChild(td1);
  trow.appendChild(td2);
  trow.appendChild(td3);
  trow.appendChild(td4);

  tbody.appendChild(trow);

}

function addAllItemsToTable(Prices){
  Num=0;
  tbody.innerHTML="";
  Prices.forEach(element => {
    AddItemToTable(element.Model, element.Price, element.Product);
  });
}

function GetAllDataOnce(){
  const dbRef = ref(db);
  get(child(dbRef, "Cenik"))
  .then((snapshot)=>{
    var Products = [];

    snapshot.forEach(childSnapshot =>{
      Products.push(childSnapshot.val());
    });
    addAllItemsToTable(Products);
  })

}
window.onload = GetAllDataOnce;
</script>

  
</body>
</html>